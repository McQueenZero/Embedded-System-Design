/***************************************************
* 标题：节气查询                             			 *
* 作者：lxh1205509119															 *
* 日期：2020年9月27日                              *
* 说明：输入公历年月日，查表得节气，支持2000~2099年*
* 节气表、代码修改者：赵敏琨											 *
* 日期：2021年3月16日															 *
***************************************************/
 
//原节气表不准，此为修改过后版本 
unsigned char jieqi_tab[100][24]={
{ 6,21, 4,19, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,21,},//2000
{ 5,20, 4,18, 5,20, 5,20, 5,21, 5,21, 7,23, 7,23, 7,23, 8,23, 7,22, 7,22,},//2001
{ 5,20, 4,19, 6,21, 5,20, 6,21, 6,21, 7,23, 8,23, 8,23, 8,23, 7,22, 7,22,},//2002
{ 6,20, 4,19, 6,21, 5,20, 6,21, 6,22, 7,23, 8,23, 8,23, 9,24, 8,23, 7,22,},//2003
{ 6,21, 4,19, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,21,},//2004
{ 5,20, 4,18, 5,20, 5,20, 5,21, 5,21, 7,23, 7,23, 7,23, 8,23, 7,22, 7,22,},//2005
{ 5,20, 4,19, 6,21, 5,20, 5,21, 6,21, 7,23, 7,23, 8,23, 8,23, 7,22, 7,22,},//2006
{ 6,20, 4,19, 6,21, 5,20, 6,21, 6,22, 7,23, 8,23, 8,23, 9,24, 8,23, 7,22,},//2007
{ 6,21, 4,19, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,22, 8,23, 7,22, 7,21,},//2008
{ 5,20, 4,18, 5,20, 4,20, 5,21, 5,21, 7,23, 7,23, 7,23, 8,23, 7,22, 7,22,},//2009
{ 5,20, 4,19, 6,21, 5,20, 5,21, 6,21, 7,23, 7,23, 8,23, 8,23, 7,22, 7,22,},//2010
{ 6,20, 4,19, 6,21, 5,20, 6,21, 6,22, 7,23, 8,23, 8,23, 8,24, 8,23, 7,22,},//2011
{ 6,21, 4,19, 5,20, 4,20, 5,20, 5,21, 7,22, 7,23, 7,22, 8,23, 7,22, 7,21,},//2012
{ 5,20, 4,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,22,},//2013
{ 5,20, 4,19, 6,21, 5,20, 5,21, 6,21, 7,23, 7,23, 8,23, 8,23, 7,22, 7,22,},//2014
{ 6,20, 4,19, 6,21, 5,20, 6,21, 6,22, 7,23, 8,23, 8,23, 8,24, 8,22, 7,22,},//2015
{ 6,20, 4,19, 5,20, 4,19, 5,20, 5,21, 7,22, 7,23, 7,22, 8,23, 7,22, 7,21,},//2016
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,22,},//2017
{ 5,20, 4,19, 5,21, 5,20, 5,21, 6,21, 7,23, 7,23, 8,23, 8,23, 7,22, 7,22,},//2018
{ 5,20, 4,19, 6,21, 5,20, 6,21, 6,21, 7,23, 8,23, 8,23, 8,24, 8,22, 7,22,},//2019

{ 6,20, 4,19, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 7,21,},//2020
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,21,},//2021
{ 5,20, 4,19, 5,20, 5,20, 5,21, 6,21, 7,23, 7,23, 7,23, 8,23, 7,22, 7,22,},//2022
{ 5,20, 4,19, 6,21, 5,20, 6,21, 6,21, 7,23, 8,23, 8,23, 8,24, 8,22, 7,22,},//2023
{ 6,20, 4,19, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 6,21,},//2024
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,21,},//2025
{ 5,20, 4,18, 5,20, 5,20, 5,21, 5,21, 7,23, 7,23, 7,23, 8,23, 7,22, 7,22,},//2026
{ 5,20, 4,19, 6,21, 5,20, 6,21, 6,21, 7,23, 8,23, 8,23, 8,23, 7,22, 7,22,},//2027
{ 6,20, 4,19, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 6,21,},//2028
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,21,},//2029
{ 5,20, 4,18, 5,20, 5,20, 5,21, 5,21, 7,23, 7,23, 7,23, 8,23, 7,22, 7,22,},//2030
{ 5,20, 4,19, 6,21, 5,20, 6,21, 6,21, 7,23, 8,23, 8,23, 8,23, 7,22, 7,22,},//2031
{ 6,20, 4,19, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 6,21,},//2032
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,21,},//2033
{ 5,20, 4,18, 5,20, 5,20, 5,21, 5,21, 7,23, 7,23, 7,23, 8,23, 7,22, 7,22,},//2034

{ 5,20, 4,19, 6,21, 5,20, 5,21, 6,21, 7,23, 7,23, 8,23, 8,23, 7,22, 7,22,},//2035
{ 6,20, 4,19, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 6,21,},//2036
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,21,},//2037
{ 5,20, 4,18, 5,20, 5,20, 5,21, 5,21, 7,23, 7,23, 7,23, 8,23, 7,22, 7,22,},//2038
{ 5,20, 4,19, 6,21, 5,20, 5,21, 6,21, 7,23, 7,23, 8,23, 8,23, 7,22, 7,22,},//2039
{ 6,20, 4,19, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 6,21,},//2040
{ 5,20, 3,18, 5,20, 4,20, 5,20, 5,21, 7,22, 7,23, 7,22, 8,23, 7,22, 7,21,},//2041
{ 5,20, 4,18, 5,20, 4,20, 5,21, 5,21, 7,23, 7,23, 7,23, 8,23, 7,22, 7,22,},//2042
{ 5,20, 4,19, 6,21, 5,20, 5,21, 6,21, 7,23, 7,23, 8,23, 8,23, 7,22, 7,22,},//2043
{ 6,20, 4,19, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 7,23, 7,22, 6,21,},//2044
{ 5,20, 3,18, 5,20, 4,19, 5,20, 5,21, 7,22, 7,23, 7,22, 8,23, 7,22, 7,21,},//2045
{ 5,20, 4,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,22,},//2046
{ 5,20, 4,19, 6,21, 5,20, 5,21, 6,21, 7,23, 7,23, 8,23, 8,23, 7,22, 7,22,},//2047
{ 6,20, 4,19, 5,20, 4,19, 5,20, 5,20, 6,22, 7,22, 7,22, 7,23, 7,21, 6,21,},//2048
{ 5,19, 3,18, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 7,21,},//2049
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,22,},//2050
{ 5,20, 4,19, 5,20, 5,20, 5,21, 6,21, 7,23, 7,23, 7,23, 8,23, 7,22, 7,22,},//2051
{ 5,20, 4,19, 5,20, 4,19, 5,20, 5,20, 6,22, 7,22, 7,22, 7,23, 7,21, 6,21,},//2052
{ 5,19, 3,18, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 7,21,},//2053
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,22,},//2054
{ 5,20, 4,19, 5,20, 5,20, 5,21, 5,21, 7,23, 7,23, 7,23, 8,23, 7,22, 7,22,},//2055
{ 5,20, 4,19, 5,20, 4,19, 5,20, 5,20, 6,22, 7,22, 7,22, 7,23, 7,21, 6,21,},//2056
{ 5,19, 3,18, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 6,21,},//2057
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,21,},//2058
{ 5,20, 4,19, 5,20, 5,20, 5,21, 5,21, 7,23, 7,23, 7,23, 8,23, 7,22, 7,22,},//2059
{ 5,20, 4,19, 5,20, 4,19, 5,20, 5,20, 6,22, 7,22, 7,22, 7,22, 6,21, 6,21,},//2060
{ 5,19, 3,18, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 6,21,},//2061
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,21,},//2062
{ 5,20, 4,18, 5,20, 5,20, 5,21, 5,21, 7,23, 7,23, 7,23, 8,23, 7,22, 7,22,},//2063
{ 5,20, 4,19, 5,20, 4,19, 5,20, 5,20, 6,22, 7,22, 7,22, 7,22, 6,21, 6,21,},//2064
{ 5,19, 3,18, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 6,21,},//2065
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,21,},//2066
{ 5,20, 4,18, 5,20, 5,20, 5,21, 5,21, 7,23, 7,23, 7,23, 8,23, 7,22, 7,22,},//2067
{ 5,20, 4,19, 5,20, 4,19, 4,20, 5,20, 6,22, 6,22, 7,22, 7,22, 6,21, 6,21,},//2068
{ 5,19, 3,18, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 6,21,},//2069
{ 5,20, 3,18, 5,20, 4,20, 5,20, 5,21, 7,22, 7,23, 7,22, 8,23, 7,22, 7,21,},//2070
{ 5,20, 4,18, 5,20, 5,20, 5,21, 5,21, 7,23, 7,23, 7,23, 8,23, 7,22, 7,22,},//2071
{ 5,20, 4,19, 5,20, 4,19, 4,20, 5,20, 6,22, 6,22, 7,22, 7,22, 6,21, 6,21,},//2072
{ 5,19, 3,18, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 7,23, 7,22, 6,21,},//2073
{ 5,20, 3,18, 5,20, 4,20, 5,20, 5,21, 7,22, 7,23, 7,22, 8,23, 7,22, 7,21,},//2074
{ 5,20, 4,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,22,},//2075
{ 5,20, 4,19, 5,20, 4,19, 4,20, 5,20, 6,22, 6,22, 7,22, 7,22, 6,21, 6,21,},//2076
{ 5,19, 3,18, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 7,23, 7,22, 6,21,},//2077
{ 5,20, 3,18, 5,20, 4,19, 5,20, 5,21, 6,22, 7,23, 7,22, 8,23, 7,22, 7,21,},//2078
{ 5,20, 4,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,22,},//2079
{ 5,20, 4,19, 5,20, 4,19, 4,20, 5,20, 6,22, 6,22, 7,22, 7,22, 6,21, 6,21,},//2080
{ 5,19, 3,18, 5,20, 4,19, 5,20, 5,20, 6,22, 7,22, 7,22, 7,23, 7,21, 6,21,},//2081
{ 5,20, 3,18, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 7,21,},//2082
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,22,},//2083
{ 5,20, 4,19, 4,19, 4,19, 4,20, 5,20, 6,22, 6,22, 6,22, 7,22, 6,21, 6,21,},//2084
{ 4,19, 3,18, 5,20, 4,19, 5,20, 5,20, 6,22, 7,22, 7,22, 7,23, 7,21, 6,21,},//2085
{ 5,19, 3,18, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 7,21,},//2086
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,22,},//2087
{ 5,20, 4,19, 4,19, 4,19, 4,20, 4,20, 6,22, 6,22, 6,22, 7,22, 6,21, 6,21,},//2088
{ 4,19, 3,18, 5,20, 4,19, 5,20, 5,20, 6,22, 7,22, 7,22, 7,23, 7,21, 6,21,},//2089
{ 5,19, 3,18, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 6,21,},//2090
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,21,},//2091
{ 5,20, 4,19, 4,19, 4,19, 4,20, 4,20, 6,22, 6,22, 6,22, 7,22, 6,21, 6,21,},//2092
{ 4,19, 3,18, 5,20, 4,19, 5,20, 5,20, 6,22, 7,22, 7,22, 7,22, 6,21, 6,21,},//2093
{ 5,19, 3,18, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 6,21,},//2094
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,21,},//2095
{ 5,20, 4,18, 4,19, 4,19, 4,20, 4,20, 6,22, 6,22, 6,22, 7,22, 6,21, 6,21,},//2096
{ 4,19, 3,18, 5,20, 4,19, 5,20, 5,20, 6,22, 6,22, 7,22, 7,22, 6,21, 6,21,},//2097
{ 5,19, 3,18, 5,20, 4,19, 5,20, 5,21, 6,22, 7,22, 7,22, 8,23, 7,22, 6,21,},//2098
{ 5,20, 3,18, 5,20, 4,20, 5,21, 5,21, 7,22, 7,23, 7,23, 8,23, 7,22, 7,21,},//2099

};/*
节气序号说明0:小寒
1:大寒2:立春
3:雨水4:惊蛰
5:春分6:清明
7:谷雨8:立夏
9:小满10:芒种
11:夏至12:小暑
13:大暑14:立秋
15:处暑16:白露
17:秋分18:寒露
19:霜降20:立冬
21:小雪22:大雪
23:冬至24:（无节气）
*/

unsigned char Conver_jieqi(unsigned short year,unsigned char month,unsigned char day)
{
//BCD->hex 先把数据转换为十六进制
unsigned char month_add; 

//year=year-2000;//2000年到2099年转化为0到99
month_add=month*2-2;//定位月份数据表地址
	
	/*原程序为两个节气之间持续显示，修改成仅节气当天显示*/	
	if(day==jieqi_tab[year][month_add]) return (month_add);						//当月第一个节气
	else if(day==jieqi_tab[year][month_add+1]) return (month_add+1);	//当月第二个节气
	else return 24;																									//其余天返回不显示值
	
}
